---
title: "histograms_lendingclub"
output:
  html_document:
    theme: cerulean
---

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r Set up packages and environment, message=FALSE, echo=TRUE, warning=FALSE}

#set up chart theme function and load required packages
source("../r_config/r_env_setup.R")

# chart theme settings
chart_format_hist1 <- c(fsize=14, vgrid=1, hgrid=1, mvgrid=1, mhgrid=1)
```

You can also embed plots, for example:

```{r read data, message=FALSE, echo=FALSE, warning=FALSE}
lclub_loans_df <- read.csv("../data/LoanStats_2007_11.csv", header=T,
                           stringsAsFactors=FALSE, sep=",",
                           nrow=5000 )
#str(lclub_loans_df)



  ggplot(data = lclub_loans_df, aes(x=annual_inc)) +
  do.call(chart_theme_min, as.list(chart_format_hist1)) +
  geom_density(binwidth=10000, 
                 alpha = 0.25,
                 colour = primary_color[1], fill = primary_color[1], size = 0.25) +
  coord_cartesian(xlim = c(1, 200000)) +
  scale_x_continuous(breaks = seq(0,300000, 50000), labels = comma) +
  #scale_y_continuous(labels = comma) +
  scale_y_continuous(labels = percent_format()) +
  geom_hline(yintercept=0, size=0.75, color="grey") +
  geom_vline(xintercept = 50000, size = 0.75, color = primary_color[2]) +
  ggtitle("Distribution of Loan Amount at LendingClub") +
  xlab("Loan Amount($)") +
  ylab("% of Loans") 
  
  
  
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
